#!/usr/bin/env sh

# ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€å³åº§ã«çµ‚äº†
set -e

echo "ğŸ” Running pre-commit checks..."

# lint-stagedã‚’å®Ÿè¡Œï¼ˆESLintã€Stylelintã€Prettierï¼‰
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨ã—ã¦é«˜é€ŸåŒ–
echo "ğŸ§¹ Running linters and formatters on staged files..."
pnpm exec lint-staged || {
  echo "âŒ Lint-staged checks failed"
  exit 1
}

# TypeScriptå‹ãƒã‚§ãƒƒã‚¯ï¼ˆå¢—åˆ†ãƒ“ãƒ«ãƒ‰ã‚’æ´»ç”¨ï¼‰
echo "ğŸ“ TypeScript type checking..."
pnpm exec tsc --noEmit --incremental || {
  echo "âŒ TypeScript type check failed"
  exit 1
}

echo "âœ… Pre-commit checks completed successfully!"
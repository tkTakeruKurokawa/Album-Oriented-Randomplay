# Prettier 設定ガイド

## 概要

このプロジェクトでは、コードの一貫性を保つためにPrettierを使用しています。

## 設定内容

### 基本設定

| オプション       | 値       | 理由                                                                                        |
| ---------------- | -------- | ------------------------------------------------------------------------------------------- |
| `semi`           | `true`   | JavaScriptコミュニティの標準。セミコロンを使用することでASI(自動セミコロン挿入)の問題を回避 |
| `singleQuote`    | `true`   | シングルクォートはTypeScriptの標準的なスタイル                                              |
| `trailingComma`  | `es5`    | ES5互換性を保ちつつ、diffを最小化                                                           |
| `tabWidth`       | `2`      | Next.js、React、TypeScriptの標準的なインデント幅                                            |
| `useTabs`        | `false`  | スペースを使用することで、どの環境でも一貫した表示                                          |
| `printWidth`     | `80`     | 一般的な標準値。可読性とdiffの質のバランス                                                  |
| `arrowParens`    | `always` | TypeScriptの型アノテーションとの一貫性を保つため常に括弧を使用                              |
| `endOfLine`      | `lf`     | Unix/macOS標準。Gitの改行コード問題を回避                                                   |
| `jsxSingleQuote` | `false`  | JSXではHTMLとの一貫性のためダブルクォートを使用                                             |

### プラグイン

- **prettier-plugin-tailwindcss**: TailwindCSSのクラス名を自動的に推奨順序にソート

### ファイルタイプ別のオーバーライド

#### Markdown (\*.md)

- `printWidth`: 100 - ドキュメントの可読性向上
- `proseWrap`: always - 自動的に折り返して読みやすく

#### JSON (\*.json)

- `printWidth`: 100 - 設定ファイルの可読性向上

#### YAML (_.yml, _.yaml)

- `singleQuote`: false - YAML標準に準拠

## 使用方法

### フォーマットの実行

```bash
# 全ファイルをフォーマット
pnpm format

# フォーマットチェックのみ(CI用)
pnpm format:check
```

### エディタ統合

#### VS Code

1. Prettier拡張機能をインストール
2. 設定で「Format On Save」を有効化
3. Prettierをデフォルトフォーマッターに設定

#### その他のエディタ

各エディタのPrettierプラグインをインストールしてください。

## Git統合

このプロジェクトではHuskyとlint-stagedを使用しており、コミット前に自動的にフォーマットが実行されます。

## 無視ファイル

`.prettierignore`で指定されたファイル/ディレクトリは、フォーマット対象外です:

- `node_modules/`
- `.next/`
- `coverage/`
- ロックファイル
- ビルド成果物など

## トラブルシューティング

### フォーマットが適用されない場合

1. `.prettierignore`に該当ファイルが含まれていないか確認
2. エディタのPrettier設定を確認
3. プロジェクトの依存関係を再インストール: `pnpm install`

### TailwindCSSクラスがソートされない場合

`prettier-plugin-tailwindcss`が正しくインストールされているか確認してください:

```bash
pnpm list prettier-plugin-tailwindcss
```

## 参考資料

- [Prettier公式ドキュメント](https://prettier.io/docs/en/options.html)
- [prettier-plugin-tailwindcss](https://github.com/tailwindlabs/prettier-plugin-tailwindcss)
